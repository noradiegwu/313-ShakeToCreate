<!DOCTYPE html>
<html>
<head>
  <title>TopCodes Example</title>
   <script src="https://cdnjs.cloudflare.com/ajax/libs/prefixfree/1.0.7/prefixfree.min.js"></script>
  <script src='http://cdnjs.cloudflare.com/ajax/libs/jquery/2.1.3/jquery.min.js'></script>
  <style type="text/css">
  	  html {
  	font-family: 'Gothic A1', sans-serif;
  	background-color: #000000;
  }
  	button {
	margin-top: 1%;
	margin-left: 5%;
	text-align: center;
	font-size: 25px;
	border-radius: 29px;
	padding: 10px 20px 10px 20px;
	color: black;
	background-color: white;
	border-color:black;
	text-decoration: none;
	float: left;
	letter-spacing: 1px;
}

button:hover {
	background-color: black;
	color: white;
}

#continue {
	float: right;
	margin-right: 0%;
	margin-top: -1.5%;
}

p {
	font-size: 30px;
	float: center;
	color: white;

}
/* positioning */
.libation .drink, .libation .glass:before, .libation .glass:after {
  position: absolute;
  top: 0;
  bottom: 0;
  left: 0;
  right: 0;
}

/* garnish */
.libation .garnish.cherry:before {
  background-color: #F71919;
  width: 25%;
  height: 25%;
  border-radius: 50% 40%;
  box-shadow: inset 0 0 6px 10px #ee0808;
}
.outer-container .button.replay {
  display: inline-block;
  padding: 10px 20px 12px;
  /*margin: 10px;*/
  cursor: pointer;
  color: #fff;
  letter-spacing: 0.1em;
  /*font-family: 'Helvetica Neue', 'Arial', sans-serif;*/
  font-weight: 100;
  border-radius: 4px;
  background-color: #1ea8b6;
}

.container {
  width: 300px;
}

.libation {
  position: relative;
  width: 90%;
  max-width: 300px;
  margin: 0 auto;
}
.libation.serve .liquor:before {
  animation: pour 5s 2.25s ease-out forwards;
}
.libation.serve .liquor.sip:before {
  animation: sip 5s ease-out;
}
@keyframes pour {
  0% {
    background-color: rgba(144, 73, 0, 0.8);
    top: 100%;
  }
  100% {
    background-color: rgba(144, 73, 0, 0.8);
    top: 40%;
  }
}
@keyframes sip {
  0% {
    background-color: rgba(144, 73, 0, 0.8);
    top: 40%;
  }
  100% {
    background-color: rgba(144, 73, 0, 0.3);
    top: 100%;
  }
}
.libation.serve .garnish:before {
  content: "";
  animation: add_garnish 1s linear;
}
.libation.serve .cube {
  opacity: 1;
  transform: translateY(-600%);
}
.libation.serve .cube.cube-1 {
  right: 8px;
  animation: drop_ice_cube3 1.25s 0.5s linear forwards;
}
.libation.serve .cube.cube-1.melt {
  animation: melt_cube3 5s forwards;
}
@keyframes drop_ice_cube3 {
  0% {
    opacity: 1;
    transform: translateY(-600%);
  }
  80% {
    opacity: 1;
    transform: translate(0, -5%) rotate(-10deg);
  }
  90% {
    opacity: 1;
    transform: translate(0, -5%) rotate(-10deg);
  }
  100% {
    opacity: 1;
    transform: translate(0, -5%) rotate(-10deg);
  }
}
@keyframes melt_cube3 {
  0% {
    transform: translate(0, -5%) rotate(-10deg);
  }
  80% {
    transform: translate(0, 5%) rotate(-10deg) scale(0.75);
    opacity: 1;
  }
  100% {
    transform: translate(0, 5%) rotate(-10deg) scale(0.75);
    opacity: 0;
  }
}
.libation.serve .cube.cube-2 {
  animation: drop_ice_cube2 1.25s 1s linear forwards;
}
.libation.serve .cube.cube-2.melt {
  animation: melt_cube2 5s forwards;
}
@keyframes drop_ice_cube2 {
  0% {
    opacity: 1;
    transform: translateY(-600%);
  }
  80% {
    opacity: 1;
    transform: translate(100%, -90%) rotate(-20deg);
  }
  90% {
    opacity: 1;
    transform: translate(100%, -90%) rotate(-10deg);
  }
  100% {
    opacity: 1;
    transform: translate(100%, -90%) rotate(-20deg);
  }
}
@keyframes melt_cube2 {
  0% {
    transform: translate(100%, -90%) rotate(-20deg);
  }
  80% {
    transform: translate(100%, 5%) rotate(-20deg) scale(0.75);
    opacity: 1;
  }
  100% {
    transform: translate(100%, 5%) rotate(-20deg) scale(0.75);
    opacity: 0;
  }
}
.libation.serve .cube.cube-3 {
  animation: drop_ice_cube1 1.25s 0.75s linear forwards;
}
.libation.serve .cube.cube-3.melt {
  animation: melt_cube1 5s forwards;
}
@keyframes drop_ice_cube1 {
  0% {
    opacity: 1;
    transform: translateY(-600%);
  }
  80% {
    opacity: 1;
    transform: translate(10%, -50%) rotate(20deg);
  }
  90% {
    opacity: 1;
    transform: translate(10%, -50%) rotate(-10deg);
  }
  100% {
    opacity: 1;
    transform: translate(10%, -50%) rotate(20deg);
  }
}
@keyframes melt_cube1 {
  0% {
    transform: translate(10%, -50%) rotate(20deg);
  }
  80% {
    transform: translate(10%, 5%) rotate(20deg) scale(0.75);
    opacity: 1;
  }
  100% {
    transform: translate(10%, 5%) rotate(20deg) scale(0.75);
    opacity: 0;
  }
}
.libation .aspect-ratio {
  width: 100%;
  padding-top: 90%;
}
.libation .glass, .libation .glass:before, .libation .glass:after, .libation .liquor {
  border-radius: 0 0 50px 50px;
}
.libation .glass {
  position: relative;
  height: 100%;
  overflow: hidden;
  box-sizing: border-box;
}
.libation .glass:before, .libation .glass:after {
  content: "";
}
.libation .glass:before {
  background-color: rgba(255, 255, 255, 0.2);
}
.libation .glass:after {
  border: 4px solid rgba(255, 255, 255, 0.35);
  border-top-color: rgba(255, 255, 255, 0.25);
  border-bottom-width: 20px;
  background-image: linear-gradient(272deg, rgba(255, 255, 255, 0) 0, rgba(255, 255, 255, 0) 15%, rgba(255, 255, 255, 0.08) 15%, rgba(255, 255, 255, 0.08) 40%, rgba(255, 255, 255, 0) 40%);
}
.libation .liquor {
  position: relative;
  height: 100%;
  left: 0;
  right: 0;
  bottom: 20px;
  overflow: hidden;
}
.libation .liquor:before {
  content: "";
  position: absolute;
  left: 4px;
  right: 4px;
  bottom: 0;
  height: 100%;
  top: 100%;
}
.libation .cube {
  width: 40%;
  height: 40%;
  opacity: 0;
  border-radius: 20%;
  background-image: radial-gradient(rgba(255, 255, 255, 0) 0%, rgba(255, 255, 255, 0.6) 100%);
  transition: opacity 0.25s;
  position: absolute;
  bottom: 20px;
}
.libation .garnish.cherry:before {
  left: 15%;
  position: absolute;
  bottom: 20px;
}

@keyframes add_garnish {
  0% {
    transform: translateY(-600%);
  }
  90% {
    transform: translateY(0);
  }
  95% {
    transform: translateY(-10%);
  }
  100% {
    transform: translateY(0);
  }
}
@media screen and (max-width: 679px) {
  .outer-container {
    padding-top: 30px;
    text-align: center;
/*    float: right;
*/  }
  .outer-container .button.replay {
    margin-top: 36px;
  }
}
@media screen and (min-width: 680px) {
  .outer-container .button.replay {
    position: absolute;
    bottom: 0;
    right: 0;
  }

  .container {
    position: absolute;
    top: 68%;
    left: 80%;
    transform: translate(-50%, -50%);
  }
}

  </style>
</head>

<body>
  <canvas id="video-canvas" width="800" height="600" style="background: #ddd;"></canvas>
  <br/>
  <button id="camera-button" onclick="TopCodes.startStopVideoScan('video-canvas')">Start</button>
  <button id="done_pouring" onclick="done_pouring()">Stop</button>
  <p id="ingredients"></p>
  <script src="topcodes.js"></script>
  <script src="shakeToCreateTopcodes.js"></script>


<!--   OTHER STUFF HERE -->

  <div class="outer-container">
  <div class="container">
    <div class="libation old-fashioned">
      <div class="aspect-ratio"></div>
      <div class="drink">
        <div class="garnish cherry"></div>
        <div class="ice">
          <div class="cube cube-1"></div>
          <div class="cube cube-2"></div>
          <div class="cube cube-3"></div>
        </div>
        <div class="glass">
          <div class="liquor"></div>
        </div>
      </div>
    </div>
  </div>

  <script type="text/javascript">
	var $libation = $('.libation');

function startAnimation() {
  $libation.addClass('serve');
  drink();
}

function drink() {
  $('.liquor').on('animationend webkitAnimationEnd', function(){
    $(this).off('animationend webkitAnimationEnd');
    $(this).addClass('sip').on('animationend webkitAnimationEnd', function(){
      $(this).off('animationend webkitAnimationEnd');
      $('.cube').addClass('melt').on('animationend webkitAnimationEnd', function(){
        $(this).off('animationend webkitAnimationEnd');
        $('.liquor').removeClass('sip');
        $(this).removeClass('melt');
        $libation.removeClass('serve');
      });
    });
  });
}

startAnimation();

$('.replay').on('click', function (){
  $libation.removeClass('serve');
  setTimeout(startAnimation, 600);
});</script>

<a href="ThirdPage.html"><button id="continue"> Continue </button></a>
</body>
</html>
